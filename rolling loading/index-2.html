<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>鼠标下滑进行加载</title>
	<style type="text/css">
		html, body{
			width: 100%;
			height: 100%;
			padding: 0;
			margin: 0;
		}
		div{
			width: 100%;
			height: 100%;
			box-sizing: border-box;
			border: 5px solid #ff0;
		}
		.black{
			background-color: #000;
		}
		.red{
			background-color: #f00;
		}
		.green{
			background-color: #0f0;
		}
		.blue{
			background-color: #00f;
		}
	</style>
</head>
<body>
	<div class="black" id="current"></div>

	<script type="text/javascript">
		var scrollFunc=function(e){
			var direct=0;
			e=e || window.event;
			var value;
			if(e.wheelDelta){//IE/Opera/Chrome
				value=e.wheelDelta;
			}else if(e.detail){//Firefox
				value=e.detail;
			}
			var color = ["red", "green", "blue"];
			var current = document.getElementById("current");
			// var top = current.offsetTop;
			var height = document.body.offsetHeight;
			var rect = current.getBoundingClientRect();
			console.log(rect);
			if ( value &&  rect['top']<Math.floor(height/2) ) {
				var div = document.createElement("div");
				var num = Math.floor(Math.random()*10%3);
				div.className = color[num];
				current.id = "";
				div.id = "current";
				document.body.appendChild(div);
			}
		}

		/*注册事件*/
		if(document.addEventListener){
		    document.addEventListener('DOMMouseScroll',scrollFunc,false);
		}//W3C
		window.onmousewheel=document.onmousewheel=scrollFunc;//IE/Opera/Chrome/Safari
	</script>
</body>
</html>
